<!DOCTYPE html>
<html lang="en">
	<head>
	    <meta charset="UTF-8">
	    <title>Crystal Collector</title>
	    <!-- Added link to the jQuery Library -->
	    <script src="https://code.jquery.com/jquery-3.1.1.js"></script>
	    <!-- Added a link the my CSS -->
	    <link rel="stylesheet" href="assets/css/style.css">
	    <!-- Added a link to Bootstrap-->
	    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	</head>

	<body>
	<div class="container">
		<div class="jumbotron">
      		<h1 class="text-center"><strong>Crystal Collector</strong></h1>
      		<hr>
     			 <div class="text-center">
        			<p><strong>Instructions</strong></p>
        			<ul>
        				<li>You will be given a random number at the start of the game.</li>
        				<li>There are four crystals below.  By clicking on a crystal you will add a specific amount of points to your total score.</li>
        				<li>You win the game by matching your total score to the random number.  You lose the game if your number goes above the random number.</li>
        				<li>The value of each crystal is hidden from you until you click on it.</li>
        				<li>Each time the game starts, the value of each crystal will change.</li>
        			</ul>
     			 </div>
   		 </div>
		<div id="crystals">
			<button class="button blue" style="background: url(assets/images/blue-crystal.jpg)"></button>
			<button class="button green" style="background: url(assets/images/green-crystal.jpg)"></button>
			<button class="button red" style="background: url(assets/images/red-crystal.jpg)"></button>
			<button class="button yellow" style="background: url(assets/images/yellow-crystal.jpg)"></button>
		</div>
		<div id="target"><span>Target Number: </span></div>
		<div id="current-total"><span>Current Total: </span></div>
		<div id="wins-and-losses">
			<p id="wins">Wins: </p>
			<p id="losses">Losses: </p>
		</div>

   	</div>
	<script type="text/javascript">

	$(document).ready(function() {

		function startGame() {
			var counter = 0;
			$(".data-crystalvalue").empty();
			var crystalValue = 0;
};

	
	var counter = 0;
	var wins = 0;
	var losses = 0;

	var blueCrystal = Math.floor((Math.random() * 12) + 1);
	var greenCrystal = Math.floor((Math.random() * 12) + 1);
	var redCrystal = Math.floor((Math.random() * 12) + 1);
	var yellowCrystal = Math.floor((Math.random() * 12) + 1);

	var targetNumber = Math.floor((Math.random() * 120) + 20);


	$(".blue").attr("data-crystalvalue", blueCrystal);
	$(".green").attr("data-crystalvalue", greenCrystal);
	$(".red").attr("data-crystalvalue", redCrystal);
	$(".yellow").attr("data-crystalvalue", yellowCrystal);

    $("#target").append(targetNumber);


     $(".button").on("click", function() {

    var crystalValue = ($(this).attr("data-crystalvalue"));
    crystalValue = parseInt(crystalValue);
    // We then add the crystalValue to the user's "counter" which is a global variable.
    // Every click, from every crystal adds to the global counter.
    counter += crystalValue;
    $("#current-total").html("Current Total: " + counter);

 	if (counter === targetNumber) {
 		alert("You Win!");
 		wins++;
      $("#wins").html("Wins: " + wins);
      startGame();
    }

    else if (counter >= targetNumber) {
    	alert("You Lose!");
    	losses++;
       $("#losses").html("Losses: " + losses);
       startGame();
    }

    

     });

});
	</script>
		
	<script src = "javascript/game.js"></script>
	</body>
</html>